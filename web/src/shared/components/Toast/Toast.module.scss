@use "@/shared/styles/_variables.scss" as *;

// ==============================================
// Toast Container
// ==============================================
.toast-container {
	position: fixed;
	top: 24px;
	right: 24px;
	z-index: 9999;
	display: flex;
	flex-direction: column;
	gap: 12px;
	pointer-events: none;
}

// ==============================================
// Toast Item - Aero-Minimalism Style
// ==============================================
.toast {
	pointer-events: auto;
	min-width: 320px;
	max-width: 420px;
	padding: 16px 20px;
	border-radius: var(--radius-lg);
	background: var(--glass-bg-solid);
	backdrop-filter: blur(24px);
	-webkit-backdrop-filter: blur(24px);
	box-shadow: var(--shadow-lg);
	border: 1px solid var(--glass-border);
	display: flex;
	align-items: flex-start;
	gap: 14px;
	animation: floatIn 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
	position: relative;
	overflow: hidden;

	&:hover {
		cursor: pointer;
	}

	// Decorative gradient orb
	&::before {
		content: "";
		position: absolute;
		top: -40px;
		right: -40px;
		width: 100px;
		height: 100px;
		border-radius: 50%;
		filter: blur(30px);
		opacity: 0.5;
		pointer-events: none;
		z-index: 0;
	}

	// Type variants
	&.success {
		&::before {
			background: linear-gradient(135deg, var(--accent), var(--accent));
			opacity: 0.3;
		}

		.icon-wrapper {
			background: var(--success-bg);
			color: var(--success-text);
		}

		.progress-track .progress-bar {
			background: linear-gradient(90deg, var(--accent), var(--accent));
		}
	}

	&.error {
		&::before {
			background: linear-gradient(135deg, #fca5a5, #fca5a5);
			opacity: 0.3;
		}

		.icon-wrapper {
			background: var(--error-bg);
			color: var(--error-text);
		}

		.progress-track .progress-bar {
			background: linear-gradient(90deg, #f87171, #fca5a5);
		}
	}

	&.info {
		&::before {
			background: linear-gradient(135deg, var(--primary-light), var(--primary));
			opacity: 0.3;
		}

		.icon-wrapper {
			background: linear-gradient(135deg, var(--glass-bg), var(--glass-bg-solid));
			color: var(--primary);
		}

		.progress-track .progress-bar {
			background: linear-gradient(90deg, var(--primary), var(--primary-light));
		}
	}

	&.warning {
		&::before {
			background: linear-gradient(135deg, var(--secondary), var(--secondary-light));
			opacity: 0.3;
		}

		.icon-wrapper {
			background: linear-gradient(135deg, var(--secondary), var(--secondary-light));
			opacity: 0.3;
			color: var(--secondary);
		}

		.progress-track .progress-bar {
			background: linear-gradient(90deg, var(--secondary), var(--secondary-light));
		}
	}

	&.exiting {
		animation: floatOut 0.3s cubic-bezier(0.4, 0, 1, 1) forwards;
	}
}

// ==============================================
// Icon Wrapper - Circular badge
// ==============================================
.icon-wrapper {
	display: flex;
	align-items: center;
	justify-content: center;
	width: 36px;
	height: 36px;
	border-radius: var(--radius-sm);
	font-size: 1rem;
	font-weight: 700;
	flex-shrink: 0;
	position: relative;
	z-index: 1;
}

// ==============================================
// Content Area
// ==============================================
.content-wrapper {
	flex: 1;
	position: relative;
	z-index: 1;
	min-width: 0;
}

.title {
	font-size: 0.9375rem;
	font-weight: 600;
	color: var(--text-primary);
	line-height: 1.4;
	margin-bottom: 2px;
}

.message {
	font-size: 0.875rem;
	font-weight: 500;
	color: var(--text-secondary);
	line-height: 1.5;
	word-wrap: break-word;
}

// ==============================================
// Close Button
// ==============================================
.close-button {
	background: transparent;
	border: none;
	color: var(--text-muted);
	cursor: pointer;
	padding: 6px;
	display: flex;
	align-items: center;
	justify-content: center;
	border-radius: var(--radius-sm);
	transition: all $transition-smooth;
	position: relative;
	z-index: 1;
	flex-shrink: 0;
	font-size: 0.75rem;

	&:hover {
		background: var(--glass-bg);
		color: var(--primary);
		transform: scale(1.1);
	}

	&:active {
		transform: scale(0.95);
	}
}

// ==============================================
// Progress Bar
// ==============================================
.progress-track {
	position: absolute;
	bottom: 0;
	left: 0;
	right: 0;
	height: 3px;
	background: var(--glass-border);
	border-radius: 0 0 var(--radius-lg) var(--radius-lg);
	overflow: hidden;
}

.progress-bar {
	height: 100%;
	width: 100%;
	transform-origin: left;
	animation: shrink linear forwards;
	border-radius: 0 0 0 2px;
}

// ==============================================
// Animations
// ==============================================
@keyframes floatIn {
	0% {
		transform: translateX(120%) translateY(-10px) scale(0.9);
		opacity: 0;
	}

	100% {
		transform: translateX(0) translateY(0) scale(1);
		opacity: 1;
	}
}

@keyframes floatOut {
	0% {
		transform: translateX(0) scale(1);
		opacity: 1;
	}

	100% {
		transform: translateX(120%) scale(0.85);
		opacity: 0;
	}
}

@keyframes shrink {
	from {
		transform: scaleX(1);
	}

	to {
		transform: scaleX(0);
	}
}

// ==============================================
// Responsive adjustments
// ==============================================
@media (max-width: 480px) {
	.toast-container {
		top: 16px;
		right: 16px;
		left: 16px;
	}

	.toast {
		min-width: unset;
		max-width: unset;
		width: 100%;
	}
}